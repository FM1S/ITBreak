<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"/>
    <title>Assistant</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script>
        function openChat() {
          document.getElementById("showBtn").style.display = "none";
          document.getElementById("chat").style.display = "block";
        }

        function closeChat() {
          document.getElementById("chat").style.display = "none";
          document.getElementById("showBtn").style.display = "block";
        }
    </script>
</head>
<body>
    <div class="base">
        <div class="row container-fluid m-0 p-0">
            <img src='https://sun9-30.userapi.com/KazjEDdp92WHo7NdIrl7wJOk506i4KxQXR0q9A/oZFo5cMY1Vs.jpg' class="img-fluid"/>
            <div id="showBtn" style="width: 20%; display: {{btn_visibility}}; position: absolute; bottom: 5vh; right: 10vh ;">
                <button type="button" class="btn open" style="border-radius: 20px;width: 100%; background-color: #ff4f12; color: #ffffff;" onclick="openChat()">Есть вопросы?</button>
            </div>
            <div id="chat" style="display: {{chat_visibility}}; width: 20%; height: 50%; position: absolute; bottom: 5vh; right: 10vh ; border: 2px solid gray; border-radius: 20px 20px 20px 20px; background-color: #ffffff">
                <div style="height: 10%; padding-left:20px; border-bottom: 2px solid gray;">
                    <h3 style=" width: 80%; display:inline;">Чат-бот</h3>
                    <button type="button" style="border-radius: 15px; margin-right: 10px; display: inline; background-color: #ff4f12; color: #ffffff; float: right;" onclick="closeChat()">X</button>
                </div>
                <div id="scrollBlock" style="overflow-y: auto; width: 100%; height: 75%">
                    {% block messagepair %}{% endblock %}
                </div>
                <div style="height: 15%; border-top: 2px solid gray;padding-left: 5px;padding-top: 5px;padding-bottom: 5px;">
                    <input id="msg_text"placeholder="Задайте свой вопрос..." style=" width: 80%; height: 95%; border-radius: 5px;display: inline">
                    <form id="msg_form" style="display:inline" action="/new_quest/tmp">
                        <button type="submit" onclick="callML()" style="border-radius: 20px; margin-left: 5px; display: inline; background-color: #ff4f12; color: #ffffff;">-></button>
                        <script>
                            function callML(){
                                document.getElementById('msg_form').action = "/new_quest/" + document.getElementById('msg_text').value;
                                return false;
                            }
                        </script>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>